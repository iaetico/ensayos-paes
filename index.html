<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSTITUTO BSHIELD - Pruebas PAES 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" id="home-link">INSTITUTO BSHIELD</a>
            <span class="navbar-text ms-auto text-white" id="platform-subtitle">Plataforma integral gestión ensayos PAES</span>
            <span class="navbar-text ms-3 text-white hidden" id="test-timer-display">
                <i class="far fa-clock"></i> <span id="fixed-time-display">00:00:00</span>
            </span>
        </div>
    </header>

    <main class="container mt-5 pt-4">
        <div id="welcome-view" class="view active d-flex flex-column align-items-center justify-content-center">
            <h1 class="text-center mb-4">Bienvenido a las Pruebas PAES 2026</h1>
            <p class="text-center mb-5 w-75">
                Las Pruebas de Acceso a la Educación Superior (PAES) 2026 evaluarán tus competencias oficiales en áreas
                fundamentales para la formación universitaria, basadas en los temarios oficiales del DEMRE. Selecciona la
                prueba que deseas rendir y completa la inscripción.
            </p>
            <div class="row w-100 justify-content-center g-4">
                <div class="col-md-4">
                    <div class="card test-card h-100 shadow-sm position-relative" data-test-id="lectora">
                        <div class="test-ribbon ribbon-right ribbon-red d-flex flex-column justify-content-center align-items-center">
                            <span class="ribbon-text text-uppercase fw-bold text-white fs-6">OBLIGATORIA</span>
                        </div>
                        <div class="card-body text-center d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title fw-bold">Competencia Lectora</h5>
                                <p class="card-text">Prueba obligatoria</p>
                                <p class="card-text text-muted">65 preguntas • 2h 30min</p>
                                <p class="card-text small">Temario: Localizar, Interpretar, Evaluar</p>
                            </div>
                            <button class="btn btn-primary mt-3 start-test-btn" data-test-id="lectora">Inscribirse</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card test-card h-100 shadow-sm position-relative" data-test-id="m1">
                        <div class="test-ribbon ribbon-right ribbon-red d-flex flex-column justify-content-center align-items-center">
                            <span class="ribbon-text text-uppercase fw-bold text-white fs-6">OBLIGATORIA</span>
                        </div>
                        <div class="card-body text-center d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title fw-bold">Competencia Matemática 1 (M1)</h5>
                                <p class="card-text">Prueba obligatoria</p>
                                <p class="card-text text-muted">65 preguntas • 2h 20min</p>
                                <p class="card-text small">Temario: Números, Álgebra, Geometría, Estadística</p>
                            </div>
                            <button class="btn btn-primary mt-3 start-test-btn" data-test-id="m1">Inscribirse</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card test-card h-100 shadow-sm position-relative" data-test-id="m2">
                        <div class="test-ribbon ribbon-right ribbon-blue d-flex flex-column justify-content-center align-items-center">
                            <span class="ribbon-text text-uppercase fw-bold text-white fs-6">ELECTIVA</span>
                        </div>
                        <div class="card-body text-center d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title fw-bold">Competencia Matemática 2 (M2)</h5>
                                <p class="card-text">Prueba electiva</p>
                                <p class="card-text text-muted">55 preguntas • 2h 20min</p>
                                <p class="card-text small">Temario: M1 + Logaritmos, Trigonometría, Probabilidad avanzada</p>
                            </div>
                            <button class="btn btn-primary mt-3 start-test-btn" data-test-id="m2">Inscribirse</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mt-4">
                    <div class="card test-card h-100 shadow-sm position-relative" data-test-id="ciencias">
                        <div class="test-ribbon ribbon-right ribbon-blue d-flex flex-column justify-content-center align-items-center">
                            <span class="ribbon-text text-uppercase fw-bold text-white fs-6">ELECTIVA</span>
                        </div>
                        <div class="card-body text-center d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title fw-bold">Competencia Ciencias</h5>
                                <p class="card-text">Prueba electiva</p>
                                <p class="card-text text-muted">80 preguntas • 2h 40min</p>
                                <p class="card-text small">Temario: Biología, Física, Química</p>
                            </div>
                            <button class="btn btn-primary mt-3 start-test-btn" data-test-id="ciencias">Inscribirse</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mt-4">
                    <div class="card test-card h-100 shadow-sm position-relative" data-test-id="historia">
                        <div class="test-ribbon ribbon-right ribbon-blue d-flex flex-column justify-content-center align-items-center">
                            <span class="ribbon-text text-uppercase fw-bold text-white fs-6">ELECTIVA</span>
                        </div>
                        <div class="card-body text-center d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title fw-bold">Competencia Historia y Ciencias Sociales</h5>
                                <p class="card-text">Prueba electiva</p>
                                <p class="card-text text-muted">60 preguntas • 2h 00min</p>
                                <p class="card-text small">Temario: Historia Mundial, Historia de Chile, Geografía</p>
                            </div>
                            <button class="btn btn-primary mt-3 start-test-btn" data-test-id="historia">Inscribirse</button>
                        </div>
                    </div>
                </div>
                </div>
            <div class="mt-5">
                <button class="btn btn-outline-primary me-3" id="login-btn">Iniciar Sesión</button>
                <button class="btn btn-success" id="register-btn">Registrarse</button>
            </div>
        </div>

        <div id="login-view" class="view d-flex flex-column align-items-center justify-content-center hidden">
            <div class="card p-4 shadow-lg" style="width: 100%; max-width: 400px;">
                <h2 class="card-title text-center mb-4">Iniciar Sesión</h2>
                <form id="login-form">
                    <div class="mb-3">
                        <label for="login-username" class="form-label">Usuario</label>
                        <input type="text" class="form-control" id="login-username" required>
                    </div>
                    <div class="mb-3">
                        <label for="login-password" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="login-password" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Ingresar</button>
                </form>
                <p class="text-center mt-3 mb-0">
                    ¿No tienes cuenta? <a href="#" id="go-to-register">Regístrate aquí</a>
                </p>
                <button class="btn btn-link mt-2" id="back-to-welcome-from-login">Volver</button>
            </div>
        </div>

        <div id="register-view" class="view d-flex flex-column align-items-center justify-content-center hidden">
            <div class="card p-4 shadow-lg" style="width: 100%; max-width: 400px;">
                <h2 class="card-title text-center mb-4">Registrarse</h2>
                <form id="register-form">
                    <div class="mb-3">
                        <label for="register-username" class="form-label">Usuario</label>
                        <input type="text" class="form-control" id="register-username" required>
                    </div>
                    <div class="mb-3">
                        <label for="register-password" class="form-label">Contraseña</label>
                        <input type="password" class="form-control" id="register-password" required>
                    </div>
                    <div class="mb-3">
                        <label for="register-role" class="form-label">Rol</label>
                        <select class="form-select" id="register-role" required>
                            <option value="student">Estudiante</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-success w-100">Registrar</button>
                </form>
                <p class="text-center mt-3 mb-0">
                    ¿Ya tienes cuenta? <a href="#" id="go-to-login">Inicia Sesión</a>
                </p>
                <button class="btn btn-link mt-2" id="back-to-welcome-from-register">Volver</button>
            </div>
        </div>

        <div id="student-dashboard-view" class="view hidden">
            <h2 class="mb-4">Dashboard del Estudiante - PAES 2026</h2>
            <p class="mb-4">¡Bienvenido, <span id="student-username-display" class="fw-bold"></span>! Accede a los módulos de pruebas y monitorea tu progreso.</p>

            <div class="row">
                <div class="col-md-6">
                    <h4 class="mb-3">Módulos Disponibles</h4>
                    <div id="user-tests-container" class="list-group mb-4">
                        </div>
                </div>
                <div class="col-md-6">
                    <h4 class="mb-3">Progreso por Materia</h4>
                    <div id="user-progress-container" class="mb-4 p-3 border rounded">
                        <p class="text-muted text-center">No hay pruebas completadas para mostrar el progreso.</p>
                        </div>
                </div>
            </div>

            <div class="d-flex justify-content-end mt-4">
                <button class="btn btn-secondary me-3" id="view-test-history-btn"><i class="fas fa-history"></i> Ver Historial de Pruebas</button>
                <button class="btn btn-danger" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</button>
            </div>
        </div>

        <div id="admin-dashboard-view" class="view hidden">
            <h2 class="mb-4">Dashboard del Administrador - PAES 2026</h2>
            <p class="mb-4">¡Bienvenido, <span id="admin-username-display" class="fw-bold"></span>! Gestiona usuarios, módulos y revisa estadísticas.</p>

            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="card text-center shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">Usuarios Registrados</h5>
                            <p class="card-text display-4" id="total-users-count">0</p>
                            <button class="btn btn-info mt-2" id="manage-users-btn"><i class="fas fa-users"></i> Gestionar Usuarios</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="card text-center shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">Módulos de Prueba</h5>
                            <p class="card-text display-4" id="total-modules-count">0</p>
                            <button class="btn btn-info mt-2" id="manage-modules-btn"><i class="fas fa-book"></i> Gestionar Módulos</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="card text-center shadow-sm h-100">
                        <div class="card-body">
                            <h5 class="card-title">Intentos de Prueba</h5>
                            <p class="card-text display-4" id="total-attempts-count">0</p>
                            <button class="btn btn-info mt-2" id="view-stats-btn"><i class="fas fa-chart-bar"></i> Ver Estadísticas</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-end mt-4">
                <button class="btn btn-danger" id="admin-logout-btn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</button>
            </div>
        </div>

        <div id="test-history-view" class="view hidden">
            <h2 class="mb-4">Historial de Pruebas</h2>
            <div id="history-list-container" class="list-group mb-4">
                </div>
            <div class="d-flex justify-content-start mt-4">
                <button class="btn btn-secondary" id="back-to-dashboard-from-history"><i class="fas fa-arrow-left"></i> Volver al Dashboard</button>
            </div>
        </div>

        <div id="test-view" class="view hidden">
            <h2 class="mb-4" id="test-title-display">Nombre de la Prueba</h2>

            <div class="card p-4 shadow-sm mb-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="card-title mb-0" id="question-counter">Pregunta 1 de XX</h5>
                </div>
                <div id="questions-container">
                    </div>
            </div>

            <div class="d-flex justify-content-between mt-4">
                <button type="button" id="prev-btn" class="btn btn-secondary" disabled><i class="fas fa-arrow-left"></i> Anterior</button>
                <button type="button" id="finish-attempt-btn" class="btn btn-warning hidden"><i class="fas fa-pause"></i> Finalizar Intento</button>
                <button type="button" id="finish-test-btn" class="btn btn-danger hidden"><i class="fas fa-flag-checkered"></i> Terminar Prueba</button>
                <button type="button" id="next-btn" class="btn btn-primary">Siguiente <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <div id="admin-users-view" class="view hidden">
            <h2 class="mb-4">Gestionar Usuarios</h2>
            <button class="btn btn-success mb-3" id="add-user-btn"><i class="fas fa-user-plus"></i> Añadir Nuevo Usuario</button>
            <div id="users-list-container" class="list-group mb-4">
                </div>
            <button class="btn btn-secondary" id="back-to-admin-dashboard-from-users"><i class="fas fa-arrow-left"></i> Volver al Dashboard</button>
        </div>

        <div id="admin-modules-view" class="view hidden">
            <h2 class="mb-4">Gestionar Módulos de Prueba</h2>
            <button class="btn btn-success mb-3" id="add-module-btn"><i class="fas fa-plus-circle"></i> Añadir Nuevo Módulo</button>
            <div id="modules-list-container" class="list-group mb-4">
                </div>
            <button class="btn btn-secondary" id="back-to-admin-dashboard-from-modules"><i class="fas fa-arrow-left"></i> Volver al Dashboard</button>
        </div>

        <div id="admin-stats-view" class="view hidden">
            <h2 class="mb-4">Estadísticas de Pruebas</h2>
            <div id="stats-content-container" class="card p-4 shadow-sm mb-4">
                <p>Aquí se mostrarán gráficos y datos de rendimiento.</p>
                </div>
            <button class="btn btn-secondary" id="back-to-admin-dashboard-from-stats"><i class="fas fa-arrow-left"></i> Volver al Dashboard</button>
        </div>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="data.js"></script> <script src="script.js"></script>
</body>
</html>